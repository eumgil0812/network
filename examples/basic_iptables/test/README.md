
# iptables study

```
root@R2:/# iptables -L
Chain INPUT (policy ACCEPT)
target     prot opt source               destination

Chain FORWARD (policy ACCEPT)
target     prot opt source               destination
LOG        all  --  10.0.0.2             anywhere             LOG level warning

Chain OUTPUT (policy ACCEPT)
target     prot opt source               destination
```

```
root@R2:/# iptables-save                                                                                     │
# Generated by iptables-save v1.6.1 on Wed May 15 10:12:54 2019                                              │
*filter                                                                                                      │
:INPUT ACCEPT [5:420]                                                                                        │
:FORWARD ACCEPT [6:504]                                                                                      │
:OUTPUT ACCEPT [5:420]                                                                                       │
-A FORWARD -s 10.0.0.2/32 -j LOG                                                                             │
COMMIT                                                                                                       │
# Completed on Wed May 15 10:12:54 2019
```

```
root@R2:/# iptables -A FORWARD -s 10.0.0.2 -j LOG
root@R2:/# iptables -D FORWARD -s 10.0.0.2 -j LOG
```

If you want to check the LOG of iptables on network-namespace,
following kernel option helps you. this option enables us,
output netns's log to host's log.
```
sudo sh -c 'echo 0 > /proc/sys/net/netfilter/nf_log_all_netns'
dmesg
```
